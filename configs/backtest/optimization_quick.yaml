# Quick Backtest Configuration for Optimization
# Uses minimal data for fast parameter search

backtest:
  name: optimization_quick
  description: Quick optimization backtest with 1 week of data

# Time Range - Only 2 days for fast optimization
time_range:
  start_time: "2024-09-20T00:00:00Z"
  end_time: "2024-09-22T00:00:00Z"
  timezone: UTC

# Data Configuration
data:
  catalog_path: ./data/catalog

  # Instruments to load
  instruments:
    - instrument_id: BTCUSDT-PERP.BINANCE
      data_types:
        - type: Bar  # 1-minute mark price bars only
        # Skip FundingRate for speed

  # Data sources
  sources:
    - type: parquet
      path: ./data/binance/futures/btcusdt/
      glob_pattern: "*.parquet"

# Venue Configuration
venues:
  - config_path: ./configs/venues/binance_futures.yaml
    starting_balances:
      - currency: USDT
        total: 10000.0
        locked: 0.0

# Strategies to Run
strategies:
  - config_path: ./configs/strategies/hedge_grid_v1.yaml
    enabled: true

# Execution Simulation - Simplified for speed
execution:
  # Minimal latency modeling
  latency:
    order_submit_ms: 10
    order_cancel_ms: 10
    fill_mean_ms: 20
    fill_std_ms: 5

  # Fill simulation - Always fill for optimization
  fill_model:
    type: naive
    maker_fill_prob: 1.0
    aggressive_fill_prob: 1.0
    slippage_bps: 0.0

  # Fees
  fees:
    maker_bps: 2.0
    taker_bps: 5.0
    funding_apply: false  # Skip funding for speed

# Risk Controls - Relaxed for optimization
risk:
  max_drawdown_pct: 100.0  # No risk stops
  max_daily_loss_pct: 100.0
  stop_on_liquidation: false

# Logging & Output - Minimal logging
output:
  report_dir: ./reports
  save_trades: false  # Don't save trade details
  save_positions: false  # Don't save position details
  save_account_state: false  # Don't save account state
  log_level: ERROR  # Minimal logging
  log_level_file: null  # No file logging
  log_file_format: null

# Performance Metrics - Only essential metrics
metrics:
  calculate:
    - sharpe_ratio
    - max_drawdown
    - win_rate
    - profit_factor
    - total_trades

  risk_free_rate: 0.04
  periods_per_year: 365
